## Part 7. Prometheus и Grafana

Практика с логами пока что окончена. Теперь пришло время мониторить состояние системы в целом.

**== Задание ==**

1. Установи и настрой Prometheus и Grafana на виртуальную машину.
2. Получи доступ к веб-интерфейсам Prometheus и Grafana с локальной машины.
3. Добавь на дашборд Grafana отображение ЦПУ, доступной оперативной памяти, свободное место и кол-во операций ввода/вывода на жестком диске.
4. Запусти свой bash-скрипт из Части 2.
5. Посмотри на нагрузку жесткого диска (место на диске и операции чтения/записи).
6. Установи утилиту stress и запусти команду stress -c 2 -i 1 -m 1 --vm-bytes 32M -t 10s
7. Посмотри на нагрузку жесткого диска, оперативной памяти и ЦПУ.

**== Выполнение ==**

### 1. Установи и настрой Prometheus и Grafana на виртуальную машину.

![DO4-7-01](screenshots/DO4-7-01.png) 

> Версия Ubuntu просле выполнения команды `sudo apt update && sudo apt install grafana-servere` для ws1.

#### Grafana на виртуальную машину.

Грефана (Grafana) — инструмент визуализации метрик. Теперь устанавливаем её:
смотрим все на https://grafana.com/docs/grafana/latest/setup-grafana/installation/
и делаем по инструкции

![DO4-7-01](screenshots/DO4-7-01.png) 

> `sudo apt update && sudo apt install grafana-server` - Скачала и установила пакет Grafana

![DO4-7-01](screenshots/DO4-7-01.png) 

> `sudo systemctl start grafana-server` - Перезагрузила службу Grafana

> Зайти в интерфейс Grafana через браузер: http://your_vm_ip_or_hostname:3000

### 6. Установи утилиту stress и запусти команду stress -c 2 -i 1 -m 1 --vm-bytes 32M -t 10s

![DO4-7-01](screenshots/DO4-7-01.png) 

> Установила утилиту: `sudo apt-get install stress`

![DO4-7-01](screenshots/DO4-7-01.png) 

> Запустила нагрузку: `stress -c 2 -i 1 -m 1 --vm-bytes 32M -t 10s`

Примечание: Это создаст два потока процессора, одну операцию ввода-вывода и одно выделение памяти объемом 32 мегабайт, работающее в течение 10 секунд.


## Part 1. Инструмент **ipcalc**

**== Задание ==**

##### Подними виртуальную машину (далее -- ws1)

![DO2-1](screenshots/DO2-1.png) 
> Версия Ubuntu просле выполнения команды `cat /etc/issue` для ws1.
---
#### 1.1. Сети и маски
##### Определи и запиши в отчёт:
##### 1) Адрес сети *192.167.38.54/13*

![DO2-1_1](screenshots/DO2-1_1.png) 
> Определение адреса сети 192.167.38.54/13: `ipcalc 192.167.38.54/13`
Устанавливаем `ipcalc` командой `sudo apt install ipcalc`

![DO2-1_2](screenshots/DO2-1_2.png)
> Определение адреса сети 192.167.38.54/13: `ipcalc 192.167.38.54/13`

##### 2) Перевод маски *255.255.255.0* в префиксную и двоичную запись, */15* в обычную и двоичную, *11111111.11111111.11111111.11110000* в обычную и префиксную
![DO2-1_3](screenshots/DO2-1_3.png)
> - Для перевода маски 255.255.255.0 в префиксную и двоичную запись выполним команду: `ipcalc 255.255.255.0`
> - Для перевода /15 в обычную и двоичную запись выполним команду: `ipcalc /15`
> - Для перевода 11111111.11111111.11111111.11110000 в обычную и префиксную запись выполним команду: `ipcalc 255.255.255.240`